var $=jQuery.noConflict(),app=app||{};!function(){"use strict";$("html").removeClass("no-js");var a=["spades","diamonds","hearts","clubs"],b=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],c=[],d=[],e=[],f=[],g=0,h=0,i=$("#deal"),j=$("#hit"),k=$("#stick");app.initialize={init:function(){app.deck.init()}},app.deck={init:function(){for(var d,e,f=0;f<a.length;f++){d=a[f];for(var g=0;g<b.length;g++){var h={};e=b[g],h[d]=e,c.push(h)}}app.game.init()}},app.game={init:function(){i.on("click",function(){$(this).is(":disabled")||($(this).attr("disabled",!0),j.attr("disabled",!1),k.attr("disabled",!1),app.game.playedCards(app.game.getRandomNr(c.length),"player"),app.game.playedCards(app.game.getRandomNr(c.length),"dealer"),app.game.playedCards(app.game.getRandomNr(c.length),"player"),app.game.playedCards(app.game.getRandomNr(c.length),"dealer"))}),j.on("click",function(){$(this).is(":disabled")||(app.game.playedCards(app.game.getRandomNr(c.length),"player"),app.game.playedCards(app.game.getRandomNr(c.length),"dealer"))}),k.on("click",function(){$(this).is(":disabled")||app.game.stick()})},getRandomNr:function(a){return Math.floor(Math.random()*a)+1},playedCards:function(a,b){return c.length<=1?void app.game.gameOver():(d.push(c[a]),"player"===b?(f.push(c[a]),app.game.showHand(a,"player")):(e.push(c[a]),app.game.showHand(a,"dealer")),void c.splice(a,1))},showHand:function(a,b){var d=c[a];for(var e in d)"player"===b?(app.game.displayCard(e,d[e]),app.game.score(d[e],"player")):app.game.score(d[e],"dealer")},score:function(a,b){var c="";switch(a){case"A":c="1";break;case"J":c="10";break;case"Q":c="10";break;case"K":c="10";break;default:c=a}"player"===b?(h+=parseInt(c),$("#gamer-score").text("You have "+h),h>21&&(app.game.gameOver(),$("#hit").attr("disabled",!0),$("#stick").attr("disabled",!0)),21===h&&(app.game.gameWon(),$("#hit").attr("disabled",!0),$("#stick").attr("disabled",!0)),console.log("--------------------"),console.log("player score: "+h),console.log(f)):(g+=parseInt(c),console.log("--------------------"),console.log("dealer score: "+g),console.log(e))},displayCard:function(a,b){var c="";switch(a){case"spades":c="&spades;";break;case"diamonds":c="&diams;";break;case"hearts":c="&hearts;";break;case"clubs":c="&clubs;"}$("#gamer-hand .inner").append('<div class="card '+a+'"><div class="top">'+b+" "+c+'</div><div class="middle">'+c+'</div><div class="bottom">'+b+" "+c+"</div></div>")},stick:function(){g>h?g>21?app.game.gameWon():app.game.gameOver():app.game.gameWon()},gameOver:function(){k.attr("disabled",!0),j.attr("disabled",!0),$("#gamer-score").append("<p>Dealer has "+g+"</p><p>You lost!</p>")},gameWon:function(){k.attr("disabled",!0),j.attr("disabled",!0),$("#gamer-score").append("<p>Dealer has "+g+"</p><p>You Won!</p>")}},$(document).ready(app.initialize.init)}(jQuery);