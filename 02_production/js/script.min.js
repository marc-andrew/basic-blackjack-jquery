var $=jQuery.noConflict(),app=app||{};!function(){"use strict";$("html").removeClass("no-js");var a=["spades","diamonds","hearts","clubs"],b=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],c=[],d=[],e=[],f=[],g=0,h=0;app.initialize={init:function(){app.deck.init()}},app.deck={init:function(){for(var d,e,f=0;f<a.length;f++){d=a[f];for(var g=0;g<b.length;g++){var h={};e=b[g],h[d]=e,c.push(h)}}app.game.init()}},app.game={init:function(){var a=$("#deal"),b=$("#hit"),c=$("#stick");a.on("click",function(){$(this).is(":disabled")||($(this).attr("disabled",!0),b.attr("disabled",!1),c.attr("disabled",!1),app.game.playedCards(app.game.getRandomNr(1,52),"player"),app.game.playedCards(app.game.getRandomNr(1,52),"dealer"))}),b.on("click",function(){$(this).is(":disabled")||(app.game.playedCards(app.game.getRandomNr(1,52),"player"),app.game.playedCards(app.game.getRandomNr(1,52),"dealer"))}),c.on("click",function(){$(this).is(":disabled")||($(this).attr("disabled",!0),b.attr("disabled",!0),app.game.stick())})},getRandomNr:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},playedCards:function(a,b){-1!==$.inArray(a,d)?52===d.length?app.game.gameOver():app.game.playedCards(app.game.getRandomNr(1,52),b):(d.push(a),"player"===b?(f.push(a),app.game.showHand(a,"player")):(e.push(a),app.game.showHand(a,"dealer")))},showHand:function(a,b){var d=c[a];for(var e in d)"player"===b?(app.game.displayCard(e,d[e]),app.game.score(d[e],"player")):app.game.score(d[e],"dealer")},score:function(a,b){var c="";switch(a){case"A":c="1";break;case"J":c="11";break;case"Q":c="12";break;case"K":c="13";break;default:c=a}"player"===b?(console.log(c),h+=parseInt(c),$("#gamer-score").text("You have "+h),h>21&&(app.game.gameOver(),$("#hit").attr("disabled",!0),$("#stick").attr("disabled",!0)),21===h&&(app.game.gameWon(),$("#hit").attr("disabled",!0),$("#stick").attr("disabled",!0))):(console.log(c),g+=parseInt(c)),console.log("player score: "+h),console.log("dealer score: "+g)},displayCard:function(a,b){var c="";switch(a){case"spades":c="&spades;";break;case"diamonds":c="&diams;";break;case"hearts":c="&hearts;";break;case"clubs":c="&clubs;"}$("#gamer-hand .inner").append('<div class="card '+a+'"><div class="top">'+b+" "+c+'</div><div class="middle">'+c+'</div><div class="bottom">'+b+" "+c+"</div></div>")},stick:function(){g>h?g>21?app.game.gameWon():app.game.gameOver():app.game.gameWon()},gameOver:function(){$("#gamer-score").append("<p>Dealer has "+g+"</p><p>You lost!</p>")},gameWon:function(){$("#gamer-score").append("<p>Dealer has "+g+"</p><p>You Won!</p>")}},$(document).ready(app.initialize.init)}(jQuery);